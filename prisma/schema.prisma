generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "mongodb"
    url      = env("MONGODB_URI")
}

model Customer {
    id                  String    @id @default(auto()) @map("_id") @db.ObjectId
    email               String    @unique
    middlename          String?
    firstname           String
    lastname            String
    phone               String
    address             String
    accountNumber       String
    customerIdType      String
    customerIdDocuments String?
    customerIdNumber    String
    dateOfBirth         DateTime?
    nextOfKinFirstName  String?
    nextOfKinLastName   String?
    nextOfKinPhone      String?
    nextOfKinEmail      String?
    nextOfKinIdType     String?
    nextOfKinIdNumber   String
    accountBalance      String @default("0.00")
    createdAt DateTime @default(now())
    updatedAt DateTime @default(now())
}

model Transaction {
    id              String   @id @default(auto()) @map("_id") @db.ObjectId
    customerId      String
    amount          String
    transactionId   String
    transactionType String
    createdAt DateTime @default(now())
    updatedAt DateTime @default(now())
}

model User {
    id        String   @id @default(auto()) @map("_id") @db.ObjectId
    email     String   @unique
    firstname String
    lastname  String
    phone     String
    address   String
    createdAt DateTime @default(now())
    updatedAt DateTime @default(now())
}

model UserAuth {
    id        String   @id @default(auto()) @map("_id") @db.ObjectId
    userId    String   
    email     String   
    role      String
    password  String
    token     String?
    createdAt DateTime @default(now())
    updatedAt DateTime @default(now())
}

model Account {
    id            String   @id @default(auto()) @map("_id") @db.ObjectId
    accountNumber String
    customerId    String
    accountType   String
   createdAt DateTime @default(now())
    updatedAt DateTime @default(now())
}

model AccountType {
    id        String   @id @default(auto()) @map("_id") @db.ObjectId
    name      String
   createdAt DateTime @default(now())
    updatedAt DateTime @default(now())
}
